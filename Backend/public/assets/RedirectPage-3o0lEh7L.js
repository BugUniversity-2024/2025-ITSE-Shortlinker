import{d as g,r as l,o as _,u as k,l as d,c as i,a as o,b as t,e as v,f as c,g as u,h as p,t as m,w as y,i as h,j as w,_ as b,k as C}from"./index-BmfC3DSd.js";const B={class:"min-h-screen flex items-center justify-center bg-gray-50"},L={class:"text-center"},I={key:1,class:"max-w-md mx-auto px-4"},N={class:"mt-2 text-gray-600"},R={key:2,class:"max-w-md mx-auto px-4"},V={class:"mt-4 text-sm text-gray-500 break-all"},T=g({__name:"RedirectPage",setup(j){const x=k(),r=l(!0),s=l(""),n=l("");return _(async()=>{const a=x.params.shortCode;if(!a){s.value="Invalid short link",r.value=!1;return}try{const e=await d.getLinkInfo(a);n.value=e.original_url,await d.recordClick(a,{referrer:document.referrer,user_agent:navigator.userAgent}).catch(()=>{}),setTimeout(()=>{window.location.href=n.value},1e3)}catch(e){console.error("Failed to get link info:",e),s.value="Link does not exist or has expired"}finally{r.value=!1}}),(a,e)=>{const f=h("router-link");return o(),i("div",B,[t("div",L,[r.value?(o(),v(b,{key:0,size:"lg"})):s.value?(o(),i("div",I,[c(u(p),{class:"mx-auto h-16 w-16 text-red-500"}),e[1]||(e[1]=t("h1",{class:"mt-4 text-2xl font-bold text-gray-900"},"Invalid Link",-1)),t("p",N,m(s.value),1),c(f,{to:"/",class:"mt-6 btn-primary inline-block"},{default:y(()=>[...e[0]||(e[0]=[C(" Back to Home ",-1)])]),_:1})])):(o(),i("div",R,[c(u(w),{class:"mx-auto h-16 w-16 text-green-500"}),e[2]||(e[2]=t("h1",{class:"mt-4 text-2xl font-bold text-gray-900"},"Redirecting...",-1)),e[3]||(e[3]=t("p",{class:"mt-2 text-gray-600"},"You will be redirected shortly",-1)),t("p",V,m(n.value),1)]))])])}}});export{T as default};
